local a=game:GetService("Players")local b=a.LocalPlayer;local c=b.Team;local d=game:GetService("UserInputService"):GetMouseLocation()local e={Connections={},Drawings={}}function e:Connect(f,g)local h=f:Connect(g)table.insert(e.Connections,h)return h end;function e:Draw(i,j)local Drawing=Drawing.new(i)for k,l in next,j do Drawing[k]=l end;table.insert(e.Drawings)return Drawing end;function e:Unload()for k,l in next,e.Connections do l:Disconnect()end;for k,l in next,e.Drawings do l:Remove()end end;function e:isFriendly(m)return m.Team==c end;function e:isAlive(m)if m.Character:FindFirstChildOfClass("Humanoid")then if m.Character:FindFirstChildOfClass("Humanoid").Health>0 then return true end end;return false end;function e:getTool(m)if e:isAlive(m)then if m.Character:FindFirstChildWhichIsA("Tool")then return m.Character:FindFirstChildWhichIsA("Tool").Name end end end;function e:getDistance(m)if e:isAlive(m)and e:isAlive(b)then return math.round((m.Character.HumanoidRootPart.Position-b.Character.HumanoidRootPart.Position).Magnitude)end;return 0 end;function e:convertPercentage(n)local o=math.random(0,100)if o<n then return true end;return false end;function e:Ray(p,q,r,s)local r=r or{}local s=s or 5000;local t=Ray.new(q,(p.Position-q).Unit*s)local u=workspace:FindPartOnRayWithIgnoreList(t,r)return(u and u:IsADescendantOf(p.Parent))==true,u end;function e:getClosestPlayerToMouse(v,s,w)local x=1000;local y;for k,l in next,game:GetService("Players"):GetPlayers()do if l==b then return end;if not e:isAlive(l)and not e:isAlive(b)then return end;if v and e:isFriendly(l)then return end;if s[1]==true and e:getDistance(l)<=s[2]then return end;local z=true;if w[1]then local A,B=e:Ray(l.Character[w[2]],b.Character[w[3]],{},s[2])if B==false or A.Hit~=l.Character[w[2]]then z=false end end;if not z then return end;local B,C=workspace.CurrentCamera:WorldToViewportPoint(l.Character[w[2]])if not B then return end;local D=Vector2.new(C.X-d.X,C.Y-C.Y)if x>D then x=D;y=l end end;return y end
